(this["webpackJsonpmovie-organazier"]=this["webpackJsonpmovie-organazier"]||[]).push([[0],{23:function(e,t,a){e.exports=a(43)},28:function(e,t,a){},29:function(e,t,a){},31:function(e,t,a){},32:function(e,t,a){},33:function(e,t,a){},34:function(e,t,a){},35:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},43:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(20),s=a.n(i),c=a(15),o=a(3),l=a(4),m=a(6),u=a(5),p=a(1),h=a(22),d=(a(28),a(29),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"header"},r.a.createElement("h1",{className:"header__title"},"MustSee"))}}]),a}(n.Component)),b=a(10),f=a.n(b),v=a(11),_=(a(31),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchLine:""},e.searchLineChangeHandler=function(t){e.setState({searchLine:t.target.value})},e.searchBoxSubmitHandler=function(e){e.preventDefault()},e.getData=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.omdbapi.com/?s=".concat(encodeURIComponent(e.state.searchLine),"&apikey=dbf0b196"));case 2:return a=t.sent,t.next=5,a.json();case 5:if("True"!==(n=t.sent).Response){t.next=11;break}return console.log(n),t.abrupt("return",e.props.changeStateSearchArr(n.Search));case 11:alert("Movie not found");case 12:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state.searchLine;return r.a.createElement("div",{className:"search-box"},r.a.createElement("form",{className:"search-box__form",onSubmit:this.searchBoxSubmitHandler},r.a.createElement("label",{className:"search-box__form-label"},"\u0418\u0441\u043a\u0430\u0442\u044c \u0444\u0438\u043b\u044c\u043c \u043f\u043e \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u044e:",r.a.createElement("input",{value:e,type:"text",className:"search-box__form-input",placeholder:"\u041d\u0430\u043f\u0440\u0438\u043c\u0435\u0440, Shawshank Redemption",onChange:this.searchLineChangeHandler})),r.a.createElement("button",{type:"submit",className:"search-box__form-submit",disabled:!e,onClick:this.getData},"\u0418\u0441\u043a\u0430\u0442\u044c")))}}]),a}(n.Component)),g=(a(32),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.Title,n=t.Year,i=t.Poster,s=t.imdbID;return r.a.createElement("article",{className:"movie-item"},r.a.createElement("img",{className:"movie-item__poster",src:i,alt:a}),r.a.createElement("div",{className:"movie-item__info"},r.a.createElement("h3",{className:"movie-item__title"},a,"\xa0(",n,")"),r.a.createElement("button",{disabled:this.props.disabled,onClick:function(){e.props.addFilmToList(s)},type:"button",className:"movie-item__add-button ".concat(this.props.class)}," \u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a")))}}]),a}(n.Component)),E=(a(33),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[{imdbID:"tt3896198",Title:"Guardians of the Galaxy Vol. 2",Year:2017,Poster:"https://m.media-amazon.com/images/M/MV5BNjM0NTc0NzItM2FlYS00YzEwLWE0YmUtNTA2ZWIzODc2OTgxXkEyXkFqcGdeQXVyNTgwNzIyNzg@._V1_SX300.jpg"},{imdbID:"tt0068646",Title:"The Godfather",Year:1972,Poster:"https://m.media-amazon.com/images/M/MV5BM2MyNjYxNmUtYTAwNi00MTYxLWJmNWYtYzZlODY3ZTk3OTFlXkEyXkFqcGdeQXVyNzkwMjQ5NzM@._V1_SX300.jpg"}]},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("ul",{className:"movies"},this.props.searchArr.length>0&&this.props.searchArr.map((function(t){return r.a.createElement("li",{className:"movies__item",key:t.imdbID},r.a.createElement(g,Object.assign({},t,{disabled:!1,addFilmToList:e.props.addFilmToList,textButton:e.props.textButton})))})),!(this.props.searchArr.length>0)&&this.state.movies.map((function(e){return r.a.createElement("li",{className:"movies__item",key:e.imdbID},r.a.createElement(g,Object.assign({},e,{disabled:!0,class:"movies__item_button-red"})))})))}}]),a}(n.Component)),N=(a(34),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={title:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",movies:[{imdbID:"tt0068646",Title:"The Godfather",Year:1972}],listNameFromInput:"",disabled:!1},e.getIdSearchFilm=function(){return e.props.arrFromFavoriteList.map((function(e){return e.imdbID}))},e.getListFilms=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://acb-api.algoritmika.org/api/movies/list ",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify({title:e.state.listNameFromInput,movies:e.getIdSearchFilm()})});case 2:return a=t.sent,t.next=5,a.json();case 5:n=t.sent,window.open("/list/".concat(n.id));case 7:case"end":return t.stop()}}),t)}))),e.changeInputName=function(t){setTimeout(e.setState({listNameFromInput:t.target.value}),1500)},e.blockSaveButton=function(){alert("\u0412\u0430\u0448 \u0441\u043f\u0438\u0441\u043e\u043a \u0441\u0444\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d"),e.setState({disabled:!e.state.disabled})},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"favorites"},r.a.createElement("input",{onChange:this.changeInputName,value:this.state.listNameFromInput,disabled:this.state.disabled,placeholder:"\u041d\u043e\u0432\u044b\u0439 \u0441\u043f\u0438\u0441\u043e\u043a",className:"favorites__name"}),r.a.createElement("ul",{className:"favorites__list"},this.props.arrFromFavoriteList.map((function(t){return r.a.createElement("div",{className:"favorites__selected-movie"},r.a.createElement("li",{key:t.imdbID},t.Title," (",t.Year,") "),r.a.createElement("button",{className:e.state.disabled?"favorites__delete-buton-disabled":"favorites__delete-buton",disabled:e.state.disabled,onClick:function(){e.props.deleteFilm(t.imdbID)}},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"))}))),this.state.disabled?r.a.createElement("button",{onClick:this.getListFilms,type:"button",className:"favorites__save"},"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043a \u0441\u043f\u0438\u0441\u043a\u0443"):r.a.createElement("button",{onClick:this.blockSaveButton,type:"button",className:"favorites__save"},"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a"))}}]),a}(n.Component)),j=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={searchArr:[],arrFromFavoriteList:[],textButton:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u0441\u043f\u0438\u0441\u043e\u043a"},e.changeStateSearchArr=function(t){e.setState({searchArr:t})},e.addFilmToList=function(t){if(e.state.arrFromFavoriteList.find((function(e){return e.imdbID===t})))return null;var a=e.state.searchArr.find((function(e){return e.imdbID===t})),n=Object(h.a)(e.state.arrFromFavoriteList);n.push(a),e.setState({arrFromFavoriteList:n})},e.deleteFilm=function(t){var a=e.state.arrFromFavoriteList.filter((function(e){return e.imdbID!==t}));e.setState({arrFromFavoriteList:a})},e}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"main-page"},r.a.createElement(d,null),r.a.createElement("main",{className:"main-page__content"},r.a.createElement("section",{className:"main-page__main-section"},r.a.createElement("div",{className:"main-page__search-box"},r.a.createElement(_,{changeStateSearchArr:this.changeStateSearchArr})),r.a.createElement("div",{className:"main-page__movies"},r.a.createElement(E,{addFilmToList:this.addFilmToList,searchArr:this.state.searchArr,textButton:this.state.textButton}))),r.a.createElement("aside",{className:"main-page__favorites"},r.a.createElement(N,{arrFromFavoriteList:this.state.arrFromFavoriteList,deleteFilm:this.deleteFilm}))))}}]),a}(n.Component),y=(a(35),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state={movies:[{Title:"The Godfather",Year:1972,imdbID:"tt0068646"}],title:"",moviesID:[]},e.backHome=function(){window.open("/")},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match.params;console.log(t);(function(){var a=Object(v.a)(f.a.mark((function a(){var n,r;return f.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fetch("https://acb-api.algoritmika.org/api/movies/list/".concat(t.id));case 2:return n=a.sent,a.next=5,n.json();case 5:return r=a.sent,e.setState({title:r.title,moviesID:r.movies}),a.abrupt("return",r);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}})()().then((function(t){var a=t.movies.map((function(e){return function(){var t=Object(v.a)(f.a.mark((function t(){var a,n;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.omdbapi.com/?i=".concat(e,"&apikey=dbf0b196"));case 2:return a=t.sent,t.next=5,a.json();case 5:return n=t.sent,t.abrupt("return",n);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()(e)}));Promise.all(a).then((function(t){e.setState({movies:t})}))}))}},{key:"render",value:function(){return r.a.createElement("div",{className:"list-page"},r.a.createElement("h1",{className:"list-page__title"},this.state.title),r.a.createElement("ul",null,this.state.movies.map((function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"list-page__newList"},r.a.createElement("a",{className:"list-page__newList",href:"https://www.imdb.com/title/".concat(e.imdbID,"/"),target:"_blank"},r.a.createElement("img",{className:"list-page__img-for-newList",src:e.Poster,alt:e.Title}),r.a.createElement("li",{className:"list-page__img-for-newList_title",key:e.imdbID},e.Title," (",e.Year,")")),r.a.createElement("div",null,"Description :",r.a.createElement("br",null),e.Plot)))})),r.a.createElement("button",{type:"button",onClick:this.backHome},"\u041d\u0430\u0437\u0430\u0434 ")))}}]),a}(n.Component)),O=(a(36),a(37),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"app"},r.a.createElement(p.a,{path:"/",exact:!0,component:j}),r.a.createElement(p.a,{path:"/list/:id",exact:!0,component:y}))}}]),a}(r.a.Component));s.a.render(r.a.createElement(c.a,null,r.a.createElement(O,null)),document.getElementById("root"))}},[[23,1,2]]]);
//# sourceMappingURL=main.63e825be.chunk.js.map